<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Seattle Housing Affordability Dashboard</title>

  <!-- Mapbox GL JS -->
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet" />
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>

  <!-- D3.js (used by C3) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js"></script>

  <!-- C3.js -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.js"></script>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet" />

  <!-- Custom styles -->
  <link href="css/style.css" rel="stylesheet" />
</head>
<body>

  <div id="app">

    <!-- ======================================================
         LEFT PANEL
    ====================================================== -->
    <aside id="panel">

      <!-- Header -->
      <div id="panel-header">
        <div id="panel-title-block">
          <p id="panel-eyebrow">City of Seattle</p>
          <h1 id="panel-title">Housing<br>Affordability</h1>
          <p id="panel-subtitle">Census Tract Analysis · 2023–2025</p>
        </div>
        <nav id="page-nav">
          <a href="index.html" class="nav-link active">Dashboard</a>
          <a href="about.html" class="nav-link">About</a>
        </nav>
      </div>

      <!-- Layer Toggle -->
      <div class="panel-section" id="layer-toggle-section">
        <p class="section-label">Map Layer</p>
        <div id="layer-toggle">
          <button class="toggle-btn active" data-layer="rent">
            <span class="toggle-dot"></span>Median Rent
          </button>
          <button class="toggle-btn" data-layer="burden">
            <span class="toggle-dot"></span>Rent Burden
          </button>
          <button class="toggle-btn" data-layer="mha">
            <span class="toggle-dot"></span>MHA Zones
          </button>
        </div>
      </div>

      <!-- Dynamic Stat -->
      <div class="panel-section" id="stat-section">
        <p class="section-label" id="stat-label">Avg. Median Rent · Visible Tracts</p>
        <div id="stat-value">—</div>
        <p id="stat-sub" class="stat-sub">Hover a tract for details</p>
      </div>

      <!-- Charts -->
      <div class="panel-section" id="chart-section-1">
        <p class="section-label" id="chart1-title">Rent by Neighborhood</p>
        <div id="bar-chart"></div>
      </div>

      <div class="panel-section" id="chart-section-2">
        <p class="section-label" id="chart2-title">Click a tract · Rent Over Time</p>
        <div id="line-chart"></div>
      </div>

      <div class="panel-section" id="chart-section-3">
        <p class="section-label" id="chart3-title">Click a tract · Rent Burden Breakdown</p>
        <div id="donut-chart"></div>
      </div>

      <!-- Reset -->
      <div id="reset-row">
        <button id="reset-btn">↺ Reset Map</button>
      </div>

      <!-- Footer -->
      <div id="panel-footer">
        <p>Sources: Seattle GeoData · U.S. Census ACS 5Y 2023 · CoStar Group</p>
        <div id="footer-links">
          <a href="about.html">About this project</a>
        </div>
      </div>

    </aside>
    <!-- END LEFT PANEL -->

    <!-- ======================================================
         MAP
    ====================================================== -->
    <div id="map"></div>

    <!-- ======================================================
         LEGEND (overlaid on map)
    ====================================================== -->
    <div id="legend">
      <p class="legend-title" id="legend-title">Median Rent / Unit</p>
      <div id="legend-items">
        <!-- Populated by panel.js -->
      </div>
      <p class="legend-source">ACS 5Y 2023 · CoStar 2025</p>
    </div>

    <!-- ======================================================
         HOVER TOOLTIP (custom, positioned by JS)
    ====================================================== -->
    <div id="tooltip">
      <p id="tt-name"></p>
      <div id="tt-body"></div>
    </div>

  </div>
  <!-- END #app -->

  <!-- JS files — order matters -->
  <script src="js/charts.js"></script>
  <script src="js/panel.js"></script>
  <script src="js/map.js"></script>

</body>
</html>
